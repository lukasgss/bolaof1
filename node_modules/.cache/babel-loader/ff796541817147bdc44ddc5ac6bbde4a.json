{"remainingRequest":"/home/lucas/Dev/f1game/client/node_modules/babel-loader/lib/index.js!/home/lucas/Dev/f1game/client/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/lucas/Dev/f1game/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/lucas/Dev/f1game/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/lucas/Dev/f1game/client/src/components/TempoProxCorrida.vue?vue&type=template&id=055ebda4","dependencies":[{"path":"/home/lucas/Dev/f1game/client/src/components/TempoProxCorrida.vue","mtime":1642690802941},{"path":"/home/lucas/Dev/f1game/client/babel.config.js","mtime":1642515319328},{"path":"/home/lucas/Dev/f1game/client/node_modules/cache-loader/dist/cjs.js","mtime":1642536827418},{"path":"/home/lucas/Dev/f1game/client/node_modules/babel-loader/lib/index.js","mtime":1642536827814},{"path":"/home/lucas/Dev/f1game/client/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1642536828078},{"path":"/home/lucas/Dev/f1game/client/node_modules/cache-loader/dist/cjs.js","mtime":1642536827418},{"path":"/home/lucas/Dev/f1game/client/node_modules/vue-loader-v16/dist/index.js","mtime":1642536827810}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jayB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiY29udGFkb3IiCn07Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoMiIsIHsKICBjbGFzczogInRlbXBvLXJlc3RhbnRlIgp9LCAiNjBkIDA3aCAyOW0gNDNzIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAidGV4dG8tY29udGFkb3IiCn0sIFsvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIHsKICBjbGFzczogInRleHRvLXRlbXBvIgp9LCAicGFyYSBwcsOzeGltYSBjb3JyaWRhIildLCAtMQovKiBIT0lTVEVEICovCik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19ob2lzdGVkXzIsIF9jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKCRvcHRpb25zLmNhbGN1bGFyVGVtcG9Qcm94Q29ycmlkYSgpKSwgMQogIC8qIFRFWFQgKi8KICApXSksIF9ob2lzdGVkXzNdLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"sources":["/home/lucas/Dev/f1game/client/src/components/TempoProxCorrida.vue"],"names":[],"mappings":";;AACO,EAAA,KAAK,EAAC;;;8BACT,mBAAA,CAA+C,IAA/C,EAA+C;AAA3C,EAAA,KAAK,EAAC;AAAqC,CAA/C,EAA2B,iBAA3B,EAA0C,CAAA;AAAA;AAA1C,C;;8BAGF,mBAAA,CAEM,KAFN,EAEM;AAFD,EAAA,KAAK,EAAC;AAEL,CAFN,EAA2B,C,aACzB,mBAAA,CAA+C,GAA/C,EAA+C;AAA5C,EAAA,KAAK,EAAC;AAAsC,CAA/C,EAAuB,sBAAvB,CADyB,CAA3B,E;;AAAA,C;;;6DAJA,mBAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFJ,UAEI,EADJ,mBAAA,CAAuC,GAAvC,EAAuC,IAAvC,EAAuC,gBAAA,CAAjC,QAAA,CAAA,wBAAA,EAAiC,CAAvC,EAA8B;AAAA;AAA9B,GACI,CAHN,C,EAIA,U","sourcesContent":["<template>\n  <div class=\"contador\">\n    <h2 class=\"tempo-restante\">60d 07h 29m 43s</h2>\n    <p>{{ calcularTempoProxCorrida() }}</p>\n  </div>\n  <div class=\"texto-contador\">\n    <p class=\"texto-tempo\">para pr√≥xima corrida</p>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      anoAtual: new Date().getUTCFullYear(),\n      dataAtual: this.obterDataAtual(),\n      dataProxCorrida: \"00/00/0000\",\n    };\n  },\n  methods: {\n    formatarDataFormatoBR(data) {\n      return data.split(\"-\").reverse().join(\"/\");\n    },\n    obterDataAtual() {\n      const hoje = new Date();\n      const dia = String(hoje.getDate()).padStart(2, \"0\");\n      const mes = String(hoje.getMonth() + 1).padStart(2, \"0\");\n      const ano = hoje.getFullYear();\n\n      const dataAtual = `${dia}/${mes}/${ano}`;\n      return dataAtual;\n    },\n    async obterDataProxCorrida() {\n      const url = \"https://ergast.com/api/f1/current/next.json\";\n      const resposta = await fetch(url);\n      const dadosProxCorrida = await resposta.json();\n      const dataProxCorrida = dadosProxCorrida.MRData.RaceTable.Races[0].date;\n\n      this.dataProxCorrida = dataProxCorrida;\n      return dataProxCorrida;\n    },\n    obterDadosDataCorrida(data) {\n      // Para obter array dos dados de ano, mes e dia\n      return data.split(\"-\");\n    },\n    formatarHorario(horario) {\n      console.log(horario);\n      const horarioArr = horario.split(\":\");\n\n      return {\n        horas: horarioArr[0],\n        minutos: horarioArr[1],\n        segundos: horarioArr[2],\n      };\n    },\n    async calcularTempoProxCorrida() {\n      let dataAtual = Date.now();\n\n      const horarioAtual = new Date().toLocaleTimeString();\n      const horarioFormatado = this.formatarHorario(horarioAtual);\n      dataAtual = Date.now().setHours(\n        horarioFormatado.horas,\n        horarioFormatado.minutos,\n        horarioFormatado.segundos\n      );\n      console.log(dataAtual);\n      const dataCorrida = await this.obterDataProxCorrida();\n      const dadosProxCorridaArr = this.obterDadosDataCorrida(dataCorrida);\n\n      const dataProxCorrida = new Date(\n        dadosProxCorridaArr[0],\n        dadosProxCorridaArr[1] - 1,\n        dadosProxCorridaArr[2]\n      ).setHours(12, 0, 0);\n\n      const diferencaDatas = this.calcularDiferencasDatas(\n        dataAtual,\n        dataProxCorrida\n      );\n\n      console.log(dataProxCorrida);\n      console.log(diferencaDatas);\n      console.log(`Segundos: ${diferencaDatas.segundos % 60}`);\n      console.log(`Minutos: ${diferencaDatas.minutos % 60}`);\n      console.log(`Horas: ${diferencaDatas.horas % 24}`);\n      console.log(`Dias: ${diferencaDatas.dias}`);\n    },\n    calcularDiferencasDatas(dataAtual, dataCorrida) {\n      const diferencasTempo = {};\n      function calcularDiferencaEmSegundos() {\n        const diferencaSegundos = Math.floor((dataCorrida - dataAtual) / 1000);\n\n        diferencasTempo.segundos = diferencaSegundos;\n        return diferencaSegundos;\n      }\n\n      function calcularDiferencaMinutos() {\n        const segundos = calcularDiferencaEmSegundos();\n        const diferencaMinutos = Math.floor(segundos / 60);\n        diferencasTempo.minutos = diferencaMinutos;\n\n        return diferencaMinutos;\n      }\n\n      function calcularDiferencaHoras() {\n        const minutos = calcularDiferencaMinutos();\n        const diferencaHoras = Math.floor(minutos / 60);\n        diferencasTempo.horas = diferencaHoras;\n\n        return diferencaHoras;\n      }\n\n      function calcularDiferencaDias() {\n        const horas = calcularDiferencaHoras();\n        const diferencaDias = Math.floor(horas / 24);\n        diferencasTempo.dias = diferencaDias;\n\n        return diferencaDias;\n      }\n\n      calcularDiferencaDias();\n\n      return diferencasTempo;\n    },\n  },\n  async created() {\n    this.calcularTempoProxCorrida();\n  },\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":""}]}